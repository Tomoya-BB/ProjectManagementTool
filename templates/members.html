{% extends "base.html" %}
{% block content %}
<h2>ğŸ‘¥ ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç†</h2>

<div class="row">
  <!-- ãƒ¡ãƒ³ãƒãƒ¼ä¸€è¦§ -->
  <div class="col-md-6">
    <ul class="list-group mb-4">
      {% for m in members %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ m.name }}
        {% if current_user.role == 'Admin' %}
        <span>
          <a href="{{ url_for('edit_member', member_id=m.id) }}" class="btn btn-sm btn-secondary">ç·¨é›†</a>
          <form action="{{ url_for('delete_member', member_id=m.id) }}" method="POST" class="d-inline">
            <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')">å‰Šé™¤</button>
          </form>
        </span>
        {% endif %}
      </li>
      {% endfor %}
    </ul>
  </div>
  
  <!-- æ–°è¦ãƒ¡ãƒ³ãƒãƒ¼è¿½åŠ  or ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ  -->
  <div class="col-md-6">
    {% if member %}
      <h5>ãƒ¡ãƒ³ãƒãƒ¼ç·¨é›† (ID: {{ member.id }})</h5>
      <form method="POST">
        <div class="mb-3">
          <label class="form-label">åå‰</label>
          <input type="text" name="name" class="form-control" value="{{ member.name }}" required>
        </div>
        <button type="submit" class="btn btn-primary">æ›´æ–°</button>
        <a href="{{ url_for('members') }}" class="btn btn-secondary">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</a>
      </form>
    {% else %}
      <h5>æ–°è¦ãƒ¡ãƒ³ãƒãƒ¼è¿½åŠ </h5>
      <form method="POST">
        <div class="mb-3">
          <label class="form-label">åå‰</label>
          <input type="text" name="name" class="form-control" placeholder="æ–°ãƒ¡ãƒ³ãƒãƒ¼å" required>
        </div>
        <button type="submit" class="btn btn-success">è¿½åŠ </button>
      </form>
    {% endif %}
  </div>
</div>
{% endblock %}
